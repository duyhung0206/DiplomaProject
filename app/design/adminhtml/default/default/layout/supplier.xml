<layout version="0.1.0">

    <!--Supplier-->
    <adminhtml_sup_index_index>
        <reference name="content">
            <block type="supplier/adminhtml_supplier" name="supplier" />
        </reference>
    </adminhtml_sup_index_index>
    <adminhtml_sup_index_product>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier" name="csv_form" template="supplier/supplier/importproduct.phtml" />
            <block type="supplier/adminhtml_supplier_edit_tab_products" name="furniturestore.supplier.edit.tab.products"/>
            <block type="adminhtml/widget_grid_serializer" name="related_grid_serializer">
                <action method="initSerializerBlock">
                    <grid_block_name>furniturestore.supplier.edit.tab.products</grid_block_name>
                    <data_callback>getSelectedRelatedProducts</data_callback>
                    <hidden_input_name>supplier_products</hidden_input_name>
                    <reload_param_name>supplier_products</reload_param_name>
                </action>
                <action method="addColumnInputName">
                    <input_name>cost</input_name>
                    <input_name>tax</input_name>
                    <input_name>discount</input_name>
                    <input_name>supplier_sku</input_name>
                </action>
            </block>
        </block>
    </adminhtml_sup_index_product>
    <adminhtml_sup_index_productgrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier_edit_tab_products" name="furniturestore.supplier.edit.tab.products"/>
        </block>
    </adminhtml_sup_index_productgrid>


    <!--Purchase order-->
    <adminhtml_sup_purchaseorder_index>
        <reference name="content">
            <block type="supplier/adminhtml_purchaseorder" name="purchaseorder" />
        </reference>
    </adminhtml_sup_purchaseorder_index>
    <adminhtml_sup_purchaseorder_product>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder" name="csv_form" template="supplier/purchaseorder/importproduct.phtml" />
            <block type="supplier/adminhtml_purchaseorder_edit_tab_products" name="supplier.purchaseorder.edit.tab.products"/>
            <block type="adminhtml/widget_grid_serializer" name="related_grid_serializer">
                <action method="initSerializerBlock">
                    <grid_block_name>supplier.purchaseorder.edit.tab.products</grid_block_name>
                    <data_callback>getSelectedRelatedProducts</data_callback>
                    <hidden_input_name>purchaseorder_products</hidden_input_name>
                    <reload_param_name>purchaseorder_products</reload_param_name>
                </action>
                <action method="addColumnInputName">
                    <input_name>qty</input_name>
                </action>
            </block>
        </block>
    </adminhtml_sup_purchaseorder_product>
    <adminhtml_sup_purchaseorder_productgrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_edit_tab_products" name="supplier.purchaseorder.edit.tab.products"/>
        </block>
    </adminhtml_sup_purchaseorder_productgrid>

    <!-- email send to supplier -->
    <furniturestore_email_sendtosupplier>
        <block type="adminhtml/template" name="furniturestore_send_email_to_supplier" template="supplier/email/sendtosupplier.phtml" />
    </furniturestore_email_sendtosupplier>


    <!--Delivery-->
    <adminhtml_sup_purchaseorder_delivery>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder" name="information" template="supplier/purchaseorder/delivery_information.phtml" />
            <block type="supplier/adminhtml_purchaseorder_edit_tab_delivery" name="supplier.purchaseorder.edit.tab.delivery"/>
        </block>
    </adminhtml_sup_purchaseorder_delivery>
    <adminhtml_sup_purchaseorder_deliverygrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_edit_tab_delivery" name="supplier.purchaseorder.edit.tab.delivery"/>
        </block>
    </adminhtml_sup_purchaseorder_deliverygrid>

    <!--Prepare delivery-->
    <adminhtml_sup_purchaseorder_preparedelivery>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder" name="delivery_button" template="supplier/purchaseorder/delivery.phtml" />
            <block type="supplier/adminhtml_purchaseorder" name="csv_form" template="supplier/purchaseorder/importproduct_newdelivery.phtml" />
            <block type="supplier/adminhtml_purchaseorder_editdelivery_tab_delivery" name="supplier.purchaseorder.edit.tab.preparedelivery"/>
            <block type="adminhtml/widget_grid_serializer" name="related_grid_serializer">
                <action method="initSerializerBlock">
                    <grid_block_name>supplier.purchaseorder.edit.tab.preparedelivery</grid_block_name>
                    <data_callback>getSelectedProducts</data_callback>
                    <hidden_input_name>delivery_products</hidden_input_name>
                    <reload_param_name>isproducts</reload_param_name>
                </action>
                <action method="addColumnInputName">
                    <input_name>qty_delivery</input_name>
                </action>
            </block>
        </block>
    </adminhtml_sup_purchaseorder_preparedelivery>
    <adminhtml_sup_purchaseorder_preparedeliverygrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_editdelivery_tab_delivery" name="supplier.purchaseorder.edit.tab.preparedelivery"/>
        </block>
    </adminhtml_sup_purchaseorder_preparedeliverygrid>


    <!--Return order-->
    <adminhtml_sup_purchaseorder_returnorder>
        <update handle="adminhtml_inventoryplus_layout" />
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_edit_tab_returnorder" name="supplier.purchaseorder.edit.tab.returnorder"/>
        </block>
    </adminhtml_sup_purchaseorder_returnorder>

    <adminhtml_sup_purchaseorder_returnordergrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_edit_tab_returnorder" name="supplier.purchaseorder.edit.tab.returnorder"/>
        </block>
    </adminhtml_sup_purchaseorder_returnordergrid>

    <!--Add new return order-->
    <adminhtml_sup_purchaseorder_preparenewreturnorder>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder" name="returnorder_time_button" template="supplier/purchaseorder/return_order_selected_time.phtml" />
            <block type="supplier/adminhtml_purchaseorder" name="return_order_csv_form" template="supplier/purchaseorder/importproduct_newreturnorder.phtml" />
            <block type="supplier/adminhtml_purchaseorder_returnorder_tab_returnorder" name="supplier.purchaseorder.edit.tab.preparenewreturnorder"/>
            <block type="adminhtml/widget_grid_serializer" name="related_grid_serializer">
                <action method="initSerializerBlock">
                    <grid_block_name>supplier.purchaseorder.edit.tab.preparenewreturnorder</grid_block_name>
                    <data_callback>getSelectedProducts</data_callback>
                    <hidden_input_name>returnorder_products</hidden_input_name>
                    <reload_param_name>isproducts</reload_param_name>
                </action>
                <action method="addColumnInputName">
                    <input_name>qty_returned</input_name>
                </action>
            </block>
        </block>
    </adminhtml_sup_purchaseorder_preparenewreturnorder>
    <adminhtml_sup_purchaseorder_preparenewreturnordergrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_purchaseorder_returnorder_tab_returnorder" name="supplier.purchaseorder.edit.tab.preparenewreturnorder"/>
        </block>
    </adminhtml_sup_purchaseorder_preparenewreturnordergrid>

    <!--Trash index-->
    <adminhtml_sup_purchaseorder_trash>
        <reference name="content">
            <block type="supplier/adminhtml_trash" name="supplier.trash" />
        </reference>
    </adminhtml_sup_purchaseorder_trash>

    <!--Tab purchase order in edit supplier-->
    <adminhtml_sup_index_purchaseorder>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier_edit_tab_purchaseorder" name="supplier.supplier.edit.tab.purchaseorder"/>
        </block>
    </adminhtml_sup_index_purchaseorder>
    <adminhtml_sup_index_purchaseordergrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier_edit_tab_purchaseorder" name="supplier.supplier.edit.tab.purchaseorder"/>
        </block>
    </adminhtml_sup_index_purchaseordergrid>

    <!--Tab return order in edit supplier-->
    <adminhtml_sup_index_returnorder>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier_edit_tab_returnorder" name="supplier.purchaseorder.edit.tab.returnorder"/>

        </block>
    </adminhtml_sup_index_returnorder>

    <adminhtml_sup_index_returnordergrid>
        <block type="core/text_list" name="root">
            <block type="supplier/adminhtml_supplier_edit_tab_returnorder" name="supplier.purchaseorder.edit.tab.returnorder"/>
        </block>
    </adminhtml_sup_index_returnordergrid>

</layout>